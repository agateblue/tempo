(function(e){function t(t){for(var r,a,o=t[0],s=t[1],u=t[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==i[o]&&(r=!1)}r&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={"app~748942c6":0},i={"app~748942c6":0},c=[];function o(e){return s.p+"js/"+({"About~31ecd969":"About~31ecd969","Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969":"Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969","Page~31ecd969":"Page~31ecd969","Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436":"Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436","Blueprints~31ecd969":"Blueprints~31ecd969","DiaryCalendar~31ecd969":"DiaryCalendar~31ecd969","DiaryTimeline~31ecd969":"DiaryTimeline~31ecd969","Tasks~31ecd969":"Tasks~31ecd969","DiaryVisualization~221411aa":"DiaryVisualization~221411aa","Diary~31ecd969":"Diary~31ecd969","Settings~31ecd969":"Settings~31ecd969","visualization~31ecd969":"visualization~31ecd969","tasks~31ecd969":"tasks~31ecd969","alasql~2a42e354":"alasql~2a42e354"}[e]||e)+"."+{"About~31ecd969":"bf69ee54","Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969":"3f629778","Page~31ecd969":"ac587da8","Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436":"816f0821","Blueprints~31ecd969":"214b2d41","DiaryCalendar~31ecd969":"0cf122d7","DiaryTimeline~31ecd969":"214fccc2","Tasks~31ecd969":"340f0dbc","DiaryVisualization~221411aa":"55f45112","Diary~31ecd969":"8171a5e1","Settings~31ecd969":"84a14bc4","chunk-2d0da764":"14801a65","chunk-2d22d409":"b9df97e0","chunk-2d237573":"f5fffa63","visualization~31ecd969":"1a5ff517","tasks~31ecd969":"ce796145","alasql~2a42e354":"6036ddd1"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"About~31ecd969":1,"Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969":1,"Page~31ecd969":1,"Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436":1,"Blueprints~31ecd969":1,"DiaryCalendar~31ecd969":1,"DiaryTimeline~31ecd969":1,"Tasks~31ecd969":1,"Settings~31ecd969":1,"visualization~31ecd969":1,"tasks~31ecd969":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({"About~31ecd969":"About~31ecd969","Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969":"Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969","Page~31ecd969":"Page~31ecd969","Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436":"Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436","Blueprints~31ecd969":"Blueprints~31ecd969","DiaryCalendar~31ecd969":"DiaryCalendar~31ecd969","DiaryTimeline~31ecd969":"DiaryTimeline~31ecd969","Tasks~31ecd969":"Tasks~31ecd969","DiaryVisualization~221411aa":"DiaryVisualization~221411aa","Diary~31ecd969":"Diary~31ecd969","Settings~31ecd969":"Settings~31ecd969","visualization~31ecd969":"visualization~31ecd969","tasks~31ecd969":"tasks~31ecd969","alasql~2a42e354":"alasql~2a42e354"}[e]||e)+"."+{"About~31ecd969":"42c6a1f1","Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969":"a17370a0","Page~31ecd969":"58d28f28","Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436":"da614ddb","Blueprints~31ecd969":"428f1d0d","DiaryCalendar~31ecd969":"52c11f62","DiaryTimeline~31ecd969":"b2f31361","Tasks~31ecd969":"d02844a9","DiaryVisualization~221411aa":"31d6cfe0","Diary~31ecd969":"31d6cfe0","Settings~31ecd969":"ac0ea1ae","chunk-2d0da764":"31d6cfe0","chunk-2d22d409":"31d6cfe0","chunk-2d237573":"31d6cfe0","visualization~31ecd969":"42d68c95","tasks~31ecd969":"718e0e0d","alasql~2a42e354":"31d6cfe0"}[e]+".css",i=s.p+r,c=document.getElementsByTagName("link"),o=0;o<c.length;o++){var u=c[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===r||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||i,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],f.parentNode.removeChild(f),n(c)},f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;c.push([0,"chunk-vendors~253ae210","chunk-vendors~2ebc07f6","chunk-vendors~db300d2f","chunk-vendors~cfbf0a2e","chunk-vendors~fdc6512a"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"025e":function(e,t,n){"use strict";n.d(t,"r",(function(){return d})),n.d(t,"s",(function(){return f})),n.d(t,"t",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return C})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return _})),n.d(t,"k",(function(){return P})),n.d(t,"a",(function(){return B})),n.d(t,"i",(function(){return E})),n.d(t,"v",(function(){return q})),n.d(t,"q",(function(){return I})),n.d(t,"e",(function(){return W})),n.d(t,"n",(function(){return M})),n.d(t,"o",(function(){return H})),n.d(t,"d",(function(){return R})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return Y})),n.d(t,"p",(function(){return G})),n.d(t,"f",(function(){return X})),n.d(t,"w",(function(){return Z})),n.d(t,"h",(function(){return ee})),n.d(t,"x",(function(){return te})),n.d(t,"u",(function(){return ne}));var r=n("2909"),a=n("c7eb"),i=n("1da1"),c=n("b85c"),o=n("5530"),s=(n("d3b7"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("5319"),n("14d9"),n("99af"),n("159b"),n("d81d"),n("4de4"),n("498a"),n("2ca0"),n("a15b"),n("fb6a"),n("1276"),n("466d"),n("caad"),n("2532"),n("4d90"),n("b64b"),n("ddb0"),n("4e82"),n("b0c0"),n("3ca3"),n("2b3d"),n("9861"),n("5db7"),n("73d9"),n("7db0"),n("a026")),u=n("ef06"),l=n("e2c1"),d=[{text:"Date",value:"date"},{text:"Year - Week",value:"yearWeek"},{text:"Year - Month",value:"yearMonth"},{text:"Month",value:"month"},{text:"Day of month",value:"day"},{text:"Day of week",value:"weekDay"},{text:"Week",value:"weekNumber"},{text:"Year",value:"year"}],f={};d.forEach((function(e){f[e.value]=e.text}));var p={"+":1,"-":-1,"~":0,"?":null,"#":null,"!":null,"@":null},h={"+":"feeling","-":"feeling","~":"feeling","?":"feeling","#":"tag","!":"tag","@":"annotation"},b=/(^|\s)((#|\+{1,5}|-{1,5}|~|\?|!|@)([:A-zÀ-ÿ\d][:A-zÀ-ÿ\d-]*(=(true|false|[:A-zÀ-ÿ\d-]+|"[^"]*")?(-?\d*(\.(\d+))?)?)?))/gi;function m(e){var t=[],n=new RegExp(b),r=n.exec(e);while(null!=r){var a={text:r[2],sign:r[3][0],id:r[4].replace(/"/g,"")},i=!0;if(a.type=h[a.sign],"annotation"===a.type){var c=a.id.replace(/"/g,"").split("=");a.id=c[0],a.value=c[1]||null}a.mood=p[a.sign],a.mood&&(a.mood=a.mood*r[3].length),i&&t.push(a),r=n.exec(e)}return t}function g(e){try{return e.replace(b,(function(e,t,n,r,a){return" [".concat(n,"](/?q=tag:").concat(encodeURIComponent(a),'){.internal-link data-query="tag:').concat(a.split("=")[0],'"}')}))}catch(t){return""}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={text:e,tags:m(e),mood:0,type:"entry",data:null,favorite:!1,thread:t.thread||null,replies:t.replies||[],form:null},r=[];return n.tags.forEach((function(e){null!=e.mood&&void 0!=e.mood&&(n.mood+=e.mood),"annotation"===e.type&&e.value&&r.push([e.id,e.value])})),r.length>0&&(n.data={},r.forEach((function(e){n.data[e[0]]=e[1]}))),n}function y(e){return e?e.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).map((function(e){return w(e)})):[]}function w(e){var t=[];if(!e)return[];var n=e.split(" ");return n.forEach((function(e){var n=e.trim();if(n)if(h[n[0]])if(1===n.length)t.push({sign:n[0]});else{var r=m(n)[0];t.push({tagName:r.id,sign:"#"===r.sign?null:r.sign})}else if(n.startsWith("d:")||n.startsWith("date:"))t.push({date:n.split(":")[1]});else if(n.startsWith("is:fav"))t.push({favorite:!0});else if(n.startsWith("is:thread"))t.push({thread:!0});else if(n.startsWith("is:reply"))t.push({reply:!0});else if(n.startsWith("is:form"))t.push({form:!0});else if(n.startsWith("form:")){var a=n.split(":").slice(1).join(":");t.push({formId:a})}else if(n.startsWith("t:")||n.startsWith("tag:"))t.push({tagName:n.split(/:(.+)/)[1]});else if(n.startsWith("c:")||n.startsWith("category:"))t.push({categoryName:n.split(/:(.+)/)[1]});else if(n.startsWith("$"))t.push({alias:n.slice(1)});else if(n.startsWith("not:")){var i=w(n.slice(4));t.push(Object(o["a"])(Object(o["a"])({},i[0]),{},{not:!0}))}else t.push({text:n})})),t}function k(e,t){if(!e)return!1;var n=new RegExp(e,"i");return t.match(n)||!1}function O(e){if(!e)return[];var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&(t.push(n),t.push(e[n]));return t}function D(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0;r<t.length;r++){var a=t[r],i=x(e,a,n);if(a.not&&(i=!i),!1===i)return!1}return!0}function x(e,t,n){if(t.alias&&n[t.alias]){var r=j(e,y(n[t.alias]));if(!r)return!1}if(t.tag){var a=e.tags.filter((function(e){return k(t.tag.text,e.text)}));if(0===a.length)return!1}else if(t.text){var i=O(e.data);e.form&&i.push(e.form);var c="".concat(e.text," ").concat(i.join(" "));if(!c.toLowerCase().includes(t.text.toLowerCase()))return k(t.text,c)}if(t.favorite&&!e.favorite)return!1;if(t.form&&!e.form)return!1;if(t.formId&&e.form!=t.formId)return!1;if(t.thread&&0===(e.replies||[]).length)return!1;if(t.reply&&!e.thread)return!1;if(t.tagName){var o=e.tags.filter((function(e){return k(t.tagName,e.id)}));if(0===o.length)return!1}if(t.categoryName)return k(t.categoryName,e.category);if(t.sign){var s=e.tags.filter((function(e){return e.sign===t.sign}));if(0===s.length)return!1}return!(t.date&&!e._id.startsWith(t.date))}function j(e,t,n){var r,a=Object(c["a"])(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(D(e,i,n))return!0}}catch(o){a.e(o)}finally{a.f()}return!1}function C(e){var t=new Date(e.date),n=T(t),r=t.getFullYear(),a=t.getMonth()+1,i={text:e.text,_id:e._id,_rev:e._rev,mood:e.mood,positiveMood:0,negativeMood:0,fullDate:t,date:t.toISOString().split("T")[0],year:r,month:a,monthNumber:a,yearMonth:"".concat(r,"-").concat(String(a).padStart(2,"0")),day:t.getDate(),weekDay:t.getDay()+1,weekNumber:n,yearWeek:"".concat(r,"-").concat(String(n).padStart(2,"0")),tags:{},tagsCount:e.tags.length,data:e.data||null,favorite:e.favorite||!1,thread:e.thread||null,replies:e.replies||[],form:e.form};return e.tags.forEach((function(e){i.tags[e.id]=Object(o["a"])(Object(o["a"])({},e),{},{present:!0}),e.mood>0&&(i.positiveMood+=e.mood),e.mood<0&&(i.negativeMood+=e.mood)})),i.data&&Object.keys(i.data).forEach((function(t){if(i.data[t])try{i.data[t]=JSON.parse(i.data[t])}catch(e){}})),i}function S(e,t,n){return t=new Date(t).getTime(),n=new Date(n).getTime()+864e5,e.filter((function(e){var r=new Date(e.date).getTime();return r>=t&&r<n})).map((function(e){return C(e)}))}function _(e){var t={};return e.forEach((function(e){Object.keys(e.tags).forEach((function(n){var r=t[n]||{id:n,entries:0,mood:0};r.entries+=1,r.mood+=e.mood,t[n]=r}))})),Object.keys(t).map((function(e){return t[e]}))}function T(e){e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));var t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);var n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-n)/864e5+1)/7)}function P(e){return e.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hourCycle:"h23"})}var B=[{value:"line",text:"Plot line"},{value:"pie",text:"Pie chart"},{value:"percentage",text:"Percentage bar"},{value:"table",text:"Table"},{value:"json",text:"JSON"}];function E(e,t){return A.apply(this,arguments)}function A(){return A=Object(i["a"])(Object(a["a"])().mark((function e(t,n){var r,i,c;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.time("getEntries"),r={include_docs:!0},e.next=4,t.state.db.allDocs(r);case 4:return i=e.sent,c=i.rows.flatMap((function(e){return"entry"===e.doc.type?[e.doc]:[]})),c.forEach((function(e){e.date=e.date||e._id})),U(c,n),console.timeEnd("getEntries"),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function U(e,t){return e.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),t&&e.reverse(),e}function $(e,t,n){if(0===t.length)return e;var r={};return n.forEach((function(e){r[e.name]=e.query})),e.filter((function(e){return j(e,t,r)}))}function q(e){return L.apply(this,arguments)}function L(){return L=Object(i["a"])(Object(a["a"])().mark((function e(t){var n,r,i,c;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.store,r=t.sortDesc,i=t.query,e.next=3,E(n,r);case 3:return c=e.sent,e.abrupt("return",$(c,y(i),n.state.settings.aliases));case 5:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function z(e,t){return 0===t.length?e:e.filter((function(e){return j(e,t)}))}function I(e,t){return N.apply(this,arguments)}function N(){return N=Object(i["a"])(Object(a["a"])().mark((function e(t,n){var r,i;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.state.db.find({selector:{type:"task",date:{$gt:0}}});case 2:return r=e.sent,i=r.docs,e.abrupt("return",z(i,y(n)));case 5:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function W(e){return V.apply(this,arguments)}function V(){return V=Object(i["a"])(Object(a["a"])().mark((function e(t){var n;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.state.db.find({selector:{type:"blueprint"}});case 2:return n=e.sent,e.abrupt("return",n.docs);case 4:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function M(e){var t=["_rev","_id","_","type"];for(var n in e)if(Object.hasOwnProperty.call(e,n)&&-1===t.indexOf(n))return e[n]}function H(e){return F.apply(this,arguments)}function F(){return F=Object(i["a"])(Object(a["a"])().mark((function e(t){var n,r;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.state.db.find({selector:{type:"settings"}});case 2:return n=e.sent,r=n.docs.map((function(e){return{_id:e._id,_rev:e._rev,value:e.value||M(e)}})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function R(e,t,n,r,a){var i=Q(e,n,r),c=t.createElement("a");c.setAttribute("download",a),c.href=i,t.body.appendChild(c),e.requestAnimationFrame((function(){var e=new MouseEvent("click");c.dispatchEvent(e),t.body.removeChild(c)}))}function Q(e,t,n){var r=new Blob([t],{type:n}),a=e.URL.createObjectURL(r);return a}var J=[{name:"telemetry",default:function(){return!0}},{name:"webhook",default:function(){return{}}},{name:"charts",default:function(){return[]}},{name:"aliases",default:function(){return[]}},{name:"boardConfig",default:function(){return{lists:[{label:"To-do"},{label:"Doing"}],categories:[{label:"Personal"},{label:"Work"},{label:"House-keeping"}]}}},{name:"blueprints",default:function(){return["builtin:mood","builtin:tags","builtin:diary"]}}];function Y(e,t){return K.apply(this,arguments)}function K(){return K=Object(i["a"])(Object(a["a"])().mark((function e(t,n){var i,s,u,l,d,f,p;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=[],s=[],e.next=4,n.compact();case 4:u=Object(c["a"])(t),e.prev=5,u.s();case 7:if((l=u.n()).done){e.next=21;break}return d=l.value,e.prev=9,e.next=12,n.get(d._id);case 12:f=e.sent,i.push(Object(o["a"])(Object(o["a"])({},d),{},{_rev:f._rev})),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](9),s.push(Object(o["a"])({},d));case 19:e.next=7;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e["catch"](5),u.e(e.t1);case 26:return e.prev=26,u.f(),e.finish(26);case 29:return e.t2=[],e.t3=r["a"],e.next=33,n.bulkDocs(s,{new_edits:!1});case 33:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.t6=r["a"],e.next=38,n.bulkDocs(i);case 38:return e.t7=e.sent,e.t8=(0,e.t6)(e.t7),p=e.t2.concat.call(e.t2,e.t5,e.t8),e.abrupt("return",p);case 42:case"end":return e.stop()}}),e,null,[[5,23,26,29],[9,16]])}))),K.apply(this,arguments)}function G(e){return e.slice(0,19)}function X(e,t){return t=t.split("?")[0],"".concat(e.protocol,"//").concat(e.hostname).concat(t)}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(console.debug("[telemetry] tracking",t),e.getters["settings"].telemetry)try{s["a"].$plausible.trackEvent(t,{props:n,callback:function(){console.debug("[telemetry] sent")}},Object(o["a"])({url:X(window.location,window.location.href.split("#")[1]),referrer:null},r))}catch(a){console.warn("Could not track event",a)}else console.debug("[telemetry] skipping, disabled by user")}function ee(e,t){return t=t?new Date(t):new Date,e=e?new Date(e):Object(u["a"])(t,{months:2}),{start:e.toISOString().slice(0,10),end:t.toISOString().slice(0,10)}}function te(e){return l.load(e)}function ne(e){return l.dump(e)}},1:function(e,t){},4420:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),a=n("7496"),i=n("40dc"),c=n("b81c"),o=n("8336"),s=n("a523"),u=n("132d"),l=n("f6c4"),d=n("2fa4"),f=n("2a7f"),p=(n("14d9"),n("b0c0"),function(){var e=this,t=e._self._c;return t(a["a"],{attrs:{id:"tempo",dark:""}},[t(i["a"],{attrs:{app:"",dense:"",color:e.$theme.appBar.color}},[t(d["a"]),t(f["a"],{staticClass:"mr-4",staticStyle:{cursor:"pointer"},on:{click:function(t){e.$store.commit("searchQuery",""),e.$router.push("/")}}},[e._v(" Tempo ")]),t(d["a"]),t(d["a"]),t(d["a"]),t(d["a"]),e.$store.state.couchDbUrl?t(o["a"],{attrs:{loading:e.$store.state.sync.loading,small:"",icon:"",title:"Sync"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$store.dispatch("forceSync",{updateLastSync:!0})}},scopedSlots:e._u([{key:"loader",fn:function(){return[t("span",[e._v("Syncing…")])]},proxy:!0}],null,!1,64789910)},[!e.$store.state.sync.loading&&e.$store.state.sync.error?t("span",[e._v(" Sync error: "),e.$store.state.sync.error.name?t("span",[e._v(e._s(e.$store.state.sync.error.name))]):t("span",[e._v("Unknown")])]):e._e(),t(u["a"],{domProps:{textContent:e._s(e.$icons.mdiSync)}})],1):e._e(),e.$store.getters.pages.length>0?t(o["a"],{staticClass:"ml-3",attrs:{small:"",icon:"",to:"/pages",title:"Custom pages"}},[t(u["a"],{domProps:{textContent:e._s(e.$icons.mdiBookOpenPageVariantOutline)}})],1):e._e(),t(o["a"],{staticClass:"ml-3",attrs:{small:"",icon:"",to:"/about",title:"About"}},[t(u["a"],{domProps:{textContent:e._s(e.$icons.mdiHelpCircleOutline)}})],1),t(o["a"],{staticClass:"ml-3",attrs:{small:"",icon:"",to:"/settings",title:"Settings"}},[t(u["a"],{domProps:{textContent:e._s(e.$icons.mdiCog)}})],1),t(d["a"])],1),t(l["a"],[t(s["a"],{staticStyle:{"padding-bottom":"64px"},attrs:{fluid:"",tag:"main"}},[t("router-view",{ref:"view"})],1)],1),t(c["a"],{attrs:{fixed:""}},[t(d["a"]),t(o["a"],{style:e.bottomNavBarButtonStyle,attrs:{exact:"",to:{path:"/diary",query:{q:e.$store.state.searchQuery}}}},[t("span",[e._v("Diary")]),t(u["a"],{domProps:{textContent:e._s(e.$icons.mdiBook)}})],1),t(o["a"],{style:e.bottomNavBarButtonStyle,attrs:{exact:"",to:{path:"/diary/calendar",query:{q:e.$store.state.searchQuery}}}},[t("span",[e._v("Calendar")]),t(u["a"],{domProps:{textContent:e._s(e.$icons.mdiCalendar)}})],1),t(o["a"],{style:e.bottomNavBarButtonStyle,attrs:{exact:"",to:{path:"/diary/visualization",query:{q:e.$store.state.searchQuery}}}},[t("span",[e._v("Data")]),t(u["a"],{domProps:{textContent:e._s(e.$icons.mdiChartTimelineVariant)}})],1),t(o["a"],{style:e.bottomNavBarButtonStyle,attrs:{exact:"",to:"/tasks"}},[t("span",[e._v("Tasks")]),t(u["a"],{domProps:{textContent:e._s(e.$icons.mdiCheck)}})],1),t(d["a"])],1)],1)}),h=[],b=n("5530"),m=n("c7eb"),g=n("1da1"),v={data:function(){return{drawer:null,exportDialog:!1}},created:function(){var e=this;return Object(g["a"])(Object(m["a"])().mark((function t(){return Object(m["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("loadSettings"),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("controllerchange",(function(){e.$store.state.serviceWorker.refreshing||(e.$store.commit("serviceWorker",{refreshing:!0}),window.location.reload())}));case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;window.onclick=function(t){var n="internal-link";"a"==t.target.localName&&t.target.classList.contains(n)&&(t.preventDefault(),e.$store.commit("searchQuery",t.target.getAttribute("data-query")))}},computed:{bottomNavBarButtonStyle:function(){return"height: 56px; background: transparent;"}},methods:{updateApp:function(){this.$store.commit("serviceWorker",{updateAvailable:!1}),this.$store.state.serviceWorker.registration&&this.$store.state.serviceWorker.registration.waiting&&this.$store.state.serviceWorker.registration.waiting.postMessage({command:"skipWaiting"})},scrollToTop:function(){window.scrollTo(0,0)}},watch:{"$store.state.searchQuery":{handler:function(e){this.searchQuery=e,this.$router.push({path:this.$route.path,query:Object(b["a"])(Object(b["a"])({},this.$route.query),{},{q:e})})}}}},y=v,w=(n("90f9"),n("2877")),k=Object(w["a"])(y,p,h,!1,null,null,null),O=k.exports,D=n("9483"),x=n("b85c"),j=n("2909"),C=(n("d3b7"),n("159b"),n("99af"),n("d81d"),n("4de4"),n("ddb0"),n("7db0"),n("4e82"),n("e9c4"),n("b64b"),n("3ca3"),n("2f62")),S=n("16b2"),_=n("5d16"),T=n("fcd3"),P=n("c707"),B=n.n(P),E=n("025e");function A(){return U.apply(this,arguments)}function U(){return U=Object(g["a"])(Object(m["a"])().mark((function e(){return Object(m["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=E["x"],e.next=3,n.e("chunk-2d0da764").then(n.bind(null,"6c67"));case 3:return e.t1=e.sent.default,e.t2=(0,e.t0)(e.t1),e.t3=E["x"],e.next=8,n.e("chunk-2d237573").then(n.bind(null,"fb67"));case 8:return e.t4=e.sent.default,e.t5=(0,e.t3)(e.t4),e.t6=E["x"],e.next=13,n.e("chunk-2d22d409").then(n.bind(null,"f768"));case 13:return e.t7=e.sent.default,e.t8=(0,e.t6)(e.t7),e.abrupt("return",{"builtin:mood":e.t2,"builtin:tags":e.t5,"builtin:diary":e.t8});case 16:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}S["a"].plugin(_["a"]),S["a"].plugin(T["a"]),r["a"].use(C["a"]);var $=1,q=new C["a"].Store({state:{buildId:Object({VUE_APP_DOMAIN:"tempo.agate.blue",VUE_APP_VUE_APP_BUILD_ID:"a5bd82aab67c6724d53fc2a448168487fda01f94",VUE_APP_PLAUSIBLE_HOST:"https://stats.agate.blue",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BUILD_ID||"dev",db:null,remoteDb:null,pageSize:30,syncHandler:null,couchDbUrl:null,couchDbUsername:null,couchDbPassword:null,lastSync:new Date,version:$,dark:!0,sync:{loading:!1,error:null},charts:[],aliases:[],serviceWorker:{refreshing:!1,registration:null,updateAvailable:!1},settings:{},loadedBlueprints:[],searchQuery:"",uiCache:{visualization:{blueprint:null}}},mutations:{handleSync:function(e,t){var n=t.updateLastSync;console.log("Received sync event"),n&&(e.lastSync=new Date)},syncHandler:function(e,t){e.syncHandler&&(console.log("Killing existing replication…"),e.syncHandler.cancel()),e.syncHandler=t},couchDbConfig:function(e,t){var n=t.url,r=t.username,a=t.password;e.couchDbUrl=n,e.couchDbUsername=r,e.couchDbPassword=a},loadCachedState:function(e){if(localStorage.getItem("state")){var t=JSON.parse(localStorage.getItem("state"));t.version==$?(console.log("Loading cached state…"),this.replaceState(Object.assign(e,t))):(console.log("Ignoring stale cache"),e.version=$)}},initDb:function(e){e.syncHandler&&(console.log("Killing existing replication…"),e.syncHandler.cancel()),e.db=new S["a"]("db"),e.db.createIndex({index:{fields:["date","type","thread"]}}),e.db.createIndex({index:{fields:["form","date"]}})},remoteDb:function(e,t){e.remoteDb=t},serviceWorker:function(e,t){e.serviceWorker=Object(b["a"])(Object(b["a"])({},e.serviceWorker),t)},setting:function(e,t){var n=t.name,r=t.value;e.settings[n]=r},settings:function(e,t){e.settings=t},sync:function(e,t){e.sync=t},loadedBlueprints:function(e,t){e.loadedBlueprints=t},searchQuery:function(e,t){e.searchQuery=t},uiCache:function(e,t){var n=t.key,r=t.value;e.uiCache[n]=r}},getters:{settings:function(e){var t={};return E["b"].forEach((function(n){var r=e.settings[n.name];void 0===r&&(r=n.default()),t[n.name]=r})),t},boardLists:function(e,t){return[].concat(Object(j["a"])(t.settings.boardConfig.lists),[{label:"Done"}])},taskCategoryChoices:function(e){return e.settings.boardConfig.categories.map((function(e){return{value:e.label,text:e.label}}))},taskListChoices:function(e){var t=0,n=[];return e.settings.boardConfig.lists.forEach((function(e){n.push({value:t,text:e.label}),t+=1})),n.push({value:t,text:"Done"}),n},enabledBlueprints:function(e){return e.loadedBlueprints.filter((function(t){if(t)return e.settings.blueprints.indexOf(t.id)>-1}))},forms:function(e,t){var n=[];return t.enabledBlueprints.forEach((function(e){n=[].concat(Object(j["a"])(n),Object(j["a"])(e.forms||[]))})),B()(n,["label"])},formsById:function(e,t){var n={};return t.forms.forEach((function(e){n[e.id]=e})),n},pages:function(e,t){var n=[];return t.enabledBlueprints.forEach((function(e){n=[].concat(Object(j["a"])(n),Object(j["a"])(e.pages||[]))})),B()(n,["title"])},pagesById:function(e,t){var n={};return t.pages.forEach((function(e){n[e.id]=e})),n},fields:function(e,t){var n=[];return t.enabledBlueprints.forEach((function(e){n=[].concat(Object(j["a"])(n),Object(j["a"])(e.fields||[]))})),n},fieldsById:function(e,t){var n={};return t.fields.forEach((function(e){n[e.id]=e})),n}},actions:{addEntry:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,n.next=3,r.db.put(t);case 3:return n.next=5,r.db.get(t._id);case 5:return i=n.sent,n.next=8,a("rebuildThread",t.thread);case 8:return a("forceSync",{updateLastSync:!1}),n.abrupt("return",i);case 10:case"end":return n.stop()}}),n)})))()},partialUpdateEntry:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i,c,o;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=t.entry,i=t.values,c=Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(E["j"])(a.text,{thread:a.thread,replies:a.replies})),i),{},{_rev:a._rev,_id:a._id,date:new Date(a.date).toISOString()}),n.next=5,r("updateEntry",c);case 5:return o=n.sent,r("forceSync",{updateLastSync:!1}),n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)})))()},updateEntry:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,n.next=3,r.db.put(t);case 3:return n.next=5,a("rebuildThread",t.thread);case 5:return n.next=7,r.db.get(t._id);case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n)})))()},rebuildThread:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i,c;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.state,a=e.dispatch,t){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,r.db.get(t);case 6:i=n.sent,n.next=13;break;case 9:return n.prev=9,n.t0=n["catch"](3),console.error("Thread ".concat(t," does not exist and cannot be rebuilt"),n.t0),n.abrupt("return");case 13:return n.next=15,r.db.find({selector:{thread:i._id},fields:["_id"],limit:9999999});case 15:return c=n.sent,c=c.docs.map((function(e){return e._id})),c.sort(),i.replies=c,n.next=21,a("updateEntry",i);case 21:return n.abrupt("return",n.sent);case 22:case"end":return n.stop()}}),n,null,[[3,9]])})))()},deleteThread:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.state,t){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r.db.find({selector:{thread:t},fields:["_id","_rev"],limit:9999999});case 5:return a=n.sent,a=a.docs.map((function(e){return Object(b["a"])(Object(b["a"])({},e),{},{_deleted:!0})})),console.log("Deleting ".concat(a.length," from thread ").concat(t,"...")),n.next=10,r.db.bulkDocs(a);case 10:return n.abrupt("return",a);case 11:case"end":return n.stop()}}),n)})))()},reset:function(e){return Object(g["a"])(Object(m["a"])().mark((function t(){var n,r,a;return Object(m["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,a=e.dispatch,t.next=3,r.db.destroy();case 3:return localStorage.removeItem("state"),n("settings",{}),n("initDb"),t.next=8,a("setupSync",{url:r.couchDbUrl,username:r.couchDbUsername,password:r.couchDbPassword});case 8:return t.next=10,a("loadSettings");case 10:case"end":return t.stop()}}),t)})))()},setupSync:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i,c,o,s,u;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.state,a=e.commit,i=t.url,c=t.username,o=t.password,a("syncHandler",null),a("couchDbConfig",{url:i,username:c,password:o}),!r.couchDbUrl){n.next=13;break}return console.log("Setting up live replication…"),s=new S["a"](r.couchDbUrl),console.log("Logging in…"),n.next=10,s.logIn(c,o);case 10:a("remoteDb",s),u=r.db.sync(s,{live:!0,retry:!0}).on("change",(function(){console.log("Sync change…")})).on("active",(function(){console.log("Sync active…")})).on("complete",(function(){console.log("Sync complete…")})),a("syncHandler",u);case 13:case"end":return n.stop()}}),n)})))()},forceSync:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i,c;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.state,a=e.commit,i=t.updateLastSync,r.couchDbUrl&&!r.sync.loading){n.next=4;break}return n.abrupt("return");case 4:return a("sync",{loading:!0,error:null}),console.log("Forcing sync…"),c=new S["a"](r.couchDbUrl),n.prev=7,n.next=10,c.logIn(r.couchDbUsername,r.couchDbPassword);case 10:return n.next=12,r.db.sync(c);case 12:n.next=19;break;case 14:return n.prev=14,n.t0=n["catch"](7),console.log("Error while syncing",n.t0),setTimeout((function(){a("sync",{loading:!1,error:null})}),3e3),n.abrupt("return",a("sync",{loading:!1,error:n.t0}));case 19:a("sync",{loading:!1,error:null}),a("handleSync",{updateLastSync:i});case 21:case"end":return n.stop()}}),n,null,[[7,14]])})))()},setWebhook:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=t.url,n.next=4,r("setSetting",{name:"webhook",value:{url:a}});case 4:case"end":return n.stop()}}),n)})))()},triggerWebhook:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.state,a=t.url,i=t.payload,a=a||r.settings.webhook.url,a){n.next=6;break}return console.log("No webhook configured, skipping",r.settings.webhook.url),n.abrupt("return");case 6:return console.log("Sending webhook to",a),n.next=9,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i||{})});case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),n)})))()},addChart:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i,c;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,i=(new Date).toISOString(),t._id=i,c=[].concat(Object(j["a"])(r.settings.charts),[t]),n.next=6,a("setSetting",{name:"charts",value:c});case 6:case"end":return n.stop()}}),n)})))()},removeChart:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,i=r.settings.charts.filter((function(e){return e._id!=t})),n.next=4,a("setSetting",{name:"charts",value:i});case 4:case"end":return n.stop()}}),n)})))()},updateChart:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,i=[],r.settings.charts.forEach((function(e){e._id===t._id?i.push(t):i.push(e)})),n.next=5,a("setSetting",{name:"charts",value:i});case 5:case"end":return n.stop()}}),n)})))()},boardConfig:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.next=3,r("setSetting",{name:"boardConfig",value:t});case 3:case"end":return n.stop()}}),n)})))()},addAlias:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i,c;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,i=(new Date).toISOString(),t._id=i,c=[].concat(Object(j["a"])(r.settings.aliases),[t]),n.next=6,a("setSetting",{name:"aliases",value:c});case 6:case"end":return n.stop()}}),n)})))()},removeAlias:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,i=r.settings.aliases.filter((function(e){return e._id!=t})),n.next=4,a("setSetting",{name:"aliases",value:i});case 4:case"end":return n.stop()}}),n)})))()},updateAlias:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,i=[],r.settings.aliases.forEach((function(e){e._id===t._id?i.push(t):i.push(e)})),n.next=5,a("setSetting",{name:"aliases",value:i});case 5:case"end":return n.stop()}}),n)})))()},setSetting:function(e,t){return Object(g["a"])(Object(m["a"])().mark((function n(){var r,a,i,c,o;return Object(m["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.commit,i=t.name,c=t.value,n.prev=2,n.next=5,r.db.get(i);case 5:o=n.sent,o={_id:i,type:"settings",_rev:o._rev,value:c},n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),o={_id:i,type:"settings",value:c};case 12:return o=JSON.parse(JSON.stringify(o)),n.next=15,r.db.put(o);case 15:a("setting",{name:i,value:c});case 16:case"end":return n.stop()}}),n,null,[[2,9]])})))()},loadSettings:function(e){return Object(g["a"])(Object(m["a"])().mark((function t(){var n,r,a,i,c,o,s,u,l;return Object(m["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,r=e.commit,a=e.dispatch,i={},c=Object(x["a"])(E["b"]),t.prev=3,c.s();case 5:if((o=c.n()).done){t.next=21;break}return s=o.value,u=void 0,t.prev=8,t.next=11,n.db.get(s.name);case 11:l=t.sent,u=Object(E["n"])(l),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](8),u=s.default();case 18:i[s.name]=u;case 19:t.next=5;break;case 21:t.next=26;break;case 23:t.prev=23,t.t1=t["catch"](3),c.e(t.t1);case 26:return t.prev=26,c.f(),t.finish(26);case 29:r("settings",i),a("loadBlueprints");case 31:case"end":return t.stop()}}),t,null,[[3,23,26,29],[8,15]])})))()},loadBlueprints:function(e){return Object(g["a"])(Object(m["a"])().mark((function t(){var n,r,a,i,c;return Object(m["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.next=3,A();case 3:return a=t.sent,t.next=6,r.db.find({selector:{type:"blueprint"},limit:99999});case 6:i=t.sent,c=Object(b["a"])({},a),i.docs.forEach((function(e){c[e._id]=e.definition})),n("loadedBlueprints",Object.keys(c).map((function(e){return c[e]})));case 10:case"end":return t.stop()}}),t)})))()}},modules:{}});q.subscribe((function(e,t){var n={couchDbUrl:t.couchDbUrl,couchDbUsername:t.couchDbUsername,couchDbPassword:t.couchDbPassword,version:t.version,settings:t.settings,uiCache:t.uiCache};console.log("Updating localstorage cache…"),localStorage.setItem("state",JSON.stringify(n))}));var L=q;Object(D["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(e){console.log("Service worker has been registered.");var t=72e5;setInterval((function(){console.log("Checking for service worker update…"),e.update()}),t),e.update(),L.commit("serviceWorker",{registration:e})},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh."),L.commit("serviceWorker",{updateAvailable:!0,registration:e})},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("2ca0");var z=n("8c4f");r["a"].use(z["a"]);var I=[{path:"/diary",alias:"/",component:function(){return n.e("Diary~31ecd969").then(n.bind(null,"5fa4"))},props:function(e){return{query:e.query.q}},children:[{path:"",name:"Timeline",component:function(){return Promise.all([n.e("Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436"),n.e("Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969"),n.e("DiaryTimeline~31ecd969")]).then(n.bind(null,"f67a"))}},{path:"visualization",name:"Visualization",component:function(){return n.e("DiaryVisualization~221411aa").then(n.bind(null,"27ed"))},props:function(e){return{query:e.query.q,blueprint:e.query.blueprint,defaultEnd:e.query.end||null,defaultStart:e.query.start||null,defaultGroupByPeriod:e.query.period||"date"}}},{path:"calendar",name:"Calendar",component:function(){return Promise.all([n.e("Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436"),n.e("Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969"),n.e("DiaryCalendar~31ecd969")]).then(n.bind(null,"ac0f"))}},{path:"e/:entryId",name:"Entry",component:function(){return Promise.all([n.e("Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436"),n.e("Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969"),n.e("DiaryTimeline~31ecd969")]).then(n.bind(null,"f67a"))},props:!0}]},{path:"/about",name:"About",component:function(){return n.e("About~31ecd969").then(n.bind(null,"f820"))}},{path:"/tasks",component:function(){return Promise.all([n.e("Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436"),n.e("Tasks~31ecd969")]).then(n.bind(null,"eb1f"))},props:function(e){return{query:e.query.q}}},{path:"/settings",name:"Settings",component:function(){return n.e("Settings~31ecd969").then(n.bind(null,"26d3"))}},{path:"/blueprint-editor/:id?",name:"BlueprintEditor",props:!0,component:function(){return Promise.all([n.e("Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436"),n.e("Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969"),n.e("Blueprints~31ecd969")]).then(n.bind(null,"f419"))}},{path:"/pages/:id?",name:"Page",props:!0,component:function(){return Promise.all([n.e("Blueprints~DiaryCalendar~DiaryTimeline~Page~31ecd969"),n.e("Page~31ecd969")]).then(n.bind(null,"2048"))}}],N=new z["a"]({routes:I});function W(e,t){return(!t||e.name!==t.name)&&!e.fullPath.startsWith("/diary/e/")}function V(e,t){Object(E["w"])(L,"pageview",{},{referrer:t?Object(E["f"])(window.location,t.fullPath):null,url:Object(E["f"])(window.location,e.fullPath)})}N.beforeEach((function(e,t,n){W(e,t)&&V(e,t),n()}));var M=N,H=n("f309");r["a"].use(H["a"]);var F=new H["a"]({icons:{iconfont:"mdiSvg"},theme:{options:{customProperties:!0},dark:!0,themes:{light:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}}),R=n("fc76"),Q=n("94ed");r["a"].config.productionTip=!1,r["a"].prototype.$icons={mdiArrowLeft:Q["a"],mdiBook:Q["b"],mdiBookOpenPageVariantOutline:Q["c"],mdiCalendar:Q["d"],mdiChartTimelineVariant:Q["e"],mdiCheck:Q["f"],mdiChevronDown:Q["g"],mdiChevronLeft:Q["h"],mdiChevronRight:Q["i"],mdiChevronUp:Q["j"],mdiClock:Q["k"],mdiClockOutline:Q["l"],mdiClose:Q["m"],mdiCog:Q["n"],mdiContentCopy:Q["o"],mdiDelete:Q["p"],mdiDeleteOutline:Q["q"],mdiDotsHorizontal:Q["r"],mdiDownload:Q["s"],mdiEye:Q["t"],mdiEyeOff:Q["u"],mdiFormatListBulleted:Q["v"],mdiHeart:Q["w"],mdiHeartOutline:Q["x"],mdiHelpCircleOutline:Q["y"],mdiMagnify:Q["z"],mdiMenuDown:Q["A"],mdiPencil:Q["B"],mdiPlus:Q["C"],mdiReply:Q["D"],mdiReplyOutline:Q["E"],mdiSend:Q["F"],mdiSync:Q["G"],mdiTrashCan:Q["H"]},r["a"].prototype.$theme={appBar:{color:"pink darken-4"},card:{color:"grey darken-4",textSize:"body-1"},nestedCard:{color:"blue-grey darken-4",textSize:"body-2"},drawer:{color:"grey darken-4"},menu:{color:"grey darken-4"},switch:{color:"pink"},input:{color:"grey darken-4"},mainButton:{color:"pink darken-4"}};var J={apiHost:"https://stats.agate.blue",hashMode:!0,enableAutoPageviews:!1,trackLocalhost:"true"==Object({VUE_APP_DOMAIN:"tempo.agate.blue",VUE_APP_VUE_APP_BUILD_ID:"a5bd82aab67c6724d53fc2a448168487fda01f94",VUE_APP_PLAUSIBLE_HOST:"https://stats.agate.blue",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PLAUSIBLE_TRACK_LOCALHOST,domain:"tempo.agate.blue"};r["a"].use(R["a"],J),new r["a"]({router:M,store:L,render:function(e){return e(O)},vuetify:F,beforeCreate:function(){window.document.getElementById("app-shell").remove(),this.$store.commit("loadCachedState"),this.$store.commit("initDb"),this.$store.dispatch("setupSync",{url:this.$store.state.couchDbUrl,username:this.$store.state.couchDbUsername,password:this.$store.state.couchDbPassword})}}).$mount("#app")},"90f9":function(e,t,n){"use strict";n("4420")}});