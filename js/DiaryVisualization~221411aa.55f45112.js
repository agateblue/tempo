(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DiaryVisualization~221411aa"],{"27ed":function(e,t,a){"use strict";a.r(t);var r=a("a523"),i=(a("e9c4"),function(){var e=this,t=e._self._c;return t("div",[t(r["a"],{staticClass:"narrow py-0 px-0"},[t("visualization-config",{attrs:{"all-entries":e.allEntries,"selected-blueprint":e.selectedBlueprint},model:{value:e.params,callback:function(t){e.params=t},expression:"params"}})],1),e.selectedBlueprint?t(r["a"],{staticClass:"mt-4 py-0 px-0"},[t("dataviz",{key:JSON.stringify(e.params),attrs:{blueprint:e.selectedBlueprint,entries:e.queryableEntries,tags:e.queryableTags,params:e.params}})],1):e._e()],1)}),n=[],s=a("c7eb"),l=a("1da1"),u=a("5530"),d=(a("d3b7"),a("3ca3"),a("ddb0"),a("4de4"),a("fb6a"),a("14d9"),a("025e")),p={props:{allEntries:Array,blueprint:{type:String,default:null},defaultStart:{type:String,default:null},defaultEnd:{type:String,default:null},defaultGroupByPeriod:{type:String,default:"date"}},components:{Dataviz:function(){return Promise.all([a.e("Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436"),a.e("visualization~31ecd969")]).then(a.bind(null,"f3da"))},VisualizationConfig:function(){return Promise.all([a.e("Blueprints~DiaryCalendar~DiaryTimeline~Tasks~visualization~d939e436"),a.e("visualization~31ecd969")]).then(a.bind(null,"269b"))}},data:function(){return{params:Object(u["a"])(Object(u["a"])({},Object(d["h"])(this.defaultStart,this.defaultEnd)),{},{selectedBlueprintId:this.blueprint,groupByPeriod:this.defaultGroupByPeriod})}},created:function(){var e=this;return Object(l["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadBlueprints");case 2:e.params.selectedBlueprintId=e.blueprint||e.$store.state.uiCache.visualization.blueprint||e.$store.state.loadedBlueprints[0].id;case 3:case"end":return t.stop()}}),t)})))()},computed:{entries:function(){return this.allEntries},queryableEntries:function(){return Object(d["l"])(this.entries,this.params.start,this.params.end)},queryableTags:function(){return Object(d["m"])(this.queryableEntries)},selectedBlueprint:function(){var e=this;return this.$store.getters.enabledBlueprints.filter((function(t){return t.id===e.params.selectedBlueprintId}))[0]}},watch:{params:{handler:function(e){e.start||(e.start=this.entries[0].date.slice(0,10)),e.end||(e.end=this.entries[this.entries.length-1].date.slice(0,10));var t={blueprint:e.selectedBlueprintId,q:"",start:e.start,end:e.end,period:e.groupByPeriod||"date"};this.$store.commit("uiCache",{key:"visualization",value:{blueprint:t.blueprint}}),this.$router.push({path:this.$route.path,query:t})},deep:!0},"$route.query.blueprint":function(e){this.params.selectedBlueprintId=e},"$route.query.start":function(e){this.params.start=e},"$route.query.end":function(e){this.params.end=e}}},c=p,o=a("2877"),h=Object(o["a"])(c,i,n,!1,null,null,null);t["default"]=h.exports}}]);